function displayMap(){document.getElementById("map").style.display="block",initMap()}function initMap(){map=new google.maps.Map(document.getElementById("map"),mapOptions)}function addMarkerListener(e,a){var t=e.data[a].location.latitude,n=e.data[a].location.longitude;allMarkers[a]=new google.maps.Marker({animation:google.maps.Animation.DROP,position:{lat:t,lng:n},map:map,id:"tile"+a,icon:icon,title:"Marker"+a}),allMarkers[a].setMap(map);var i="#tile"+a;allMarkers[a].addListener("mouseover",function(){$(i).toggleClass("highlight")}),allMarkers[a].addListener("mouseout",function(){$(i).toggleClass("highlight")})}function addTileListener(){for(var e=document.getElementById("instagram").getElementsByClassName("tile"),a=0;a<e.length;a++)e[a].addEventListener("mouseover",tileHover,!1),e[a].addEventListener("mouseout",tileOut,!1)}function tileHover(){for(var e=0;e<allMarkers.length;e++)if(this.id===allMarkers[e].id){allMarkers[e].setIcon(iconLight);break}}function tileOut(){for(var e=0;e<allMarkers.length;e++)if(this.id===allMarkers[e].id){allMarkers[e].setIcon(icon);break}}Instagram.mediaLocation(function(e){displayMap();for(var a=0;a<e.data.length;a++)createColumn(e,a),addMarkerListener(e,a);console.log("finished API call")});var map,userLatLng={lat:31.221992,lng:121.444988},mapOptions={center:userLatLng,zoom:13,scrollwheel:!1},icon="img/logo-40.png",iconLight="img/pin-green-40.png",allMarkers=[],markers=[];