function displayMap(){document.getElementById("map").style.display="block",initMap()}function initMap(){map=new google.maps.Map(document.getElementById("map"),mapOptions)}function addMarkerListener(e,a){var o=e.data[a].location.latitude,l=e.data[a].location.longitude;allMarkers[a]=new google.maps.Marker({animation:google.maps.Animation.DROP,position:{lat:o,lng:l},map:map,id:"tile"+a,icon:icon,title:"Marker"+a}),allMarkers[a].setMap(map),console.log("adding marker "+a);var t="#tile"+(a+1);console.log("#tile ID is "+t),allMarkers[a].addListener("mouseover",function(){console.log("marker "+a+" mouseover"),$(t).toggleClass("highlight")}),allMarkers[a].addListener("mouseout",function(){console.log("marker "+a+" mouseout"),$(t).toggleClass("highlight")})}function tileHover(){console.log("hover "+this.id);for(var e=0;e<allMarkers.length;e++)if(this.id===allMarkers[e].id){allMarkers[e].setIcon(iconLight);break}}function tileOut(){console.log("out "+this.id);for(var e=0;e<allMarkers.length;e++)if(this.id===allMarkers[e].id){allMarkers[e].setIcon(icon);break}}function addTileListener(){var e=document.getElementById("instagram").getElementsByClassName("tile");console.log("tile length is "+e.length),console.log("tile array "+e);for(var a=0;a<e.length;a++)e[a].addEventListener("mouseover",tileHover,!1),e[a].addEventListener("mouseout",tileOut,!1),console.log(e[a]),console.log("Add listener"+e[a])}Instagram.mediaLocation(function(e){displayMap();for(var a=0;a<e.data.length;a++)createColumn(e,a),addMarkerListener(e,a)});var map,userLatLng={lat:31.221992,lng:121.444988},mapOptions={center:userLatLng,zoom:13,scrollwheel:!1},icon="img/logo-40.png",iconLight="img/pin-green-40.png",allMarkers=[],markers=[];